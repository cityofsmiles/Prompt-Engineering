<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Math Prompt Engineering</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/black.css">
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/math/math.js"></script>
    <style>
        body { background-color: black; }
        .reveal h2 { font-weight: 800; font-size: 3.5em; color: #ffffff; }
        /* Professional Math Highlight Color */
        .highlight { color: #42afe3; } 
        #start-btn {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            padding: 20px 40px; font-size: 24px; cursor: pointer;
            background: #42afe3; color: white; border: none; border-radius: 5px; z-index: 999;
        }
    </style>
</head>
<body>
    <button id="start-btn" onclick="startPresentation()">Start Presentation (Fullscreen)</button>

    <div class="reveal">
        <div class="slides" id="dynamic-slides">
            </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script>
    <script>
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRNkl2LsAPhuRetdCsejtmCGftxe1AuzVxjpxbICCdLk5VLuuOMXV_Uz44L0c5Fh5eiZixdi8cMU1fC/pub?output=csv';

        function startPresentation() {
            document.documentElement.requestFullscreen();
            document.getElementById('start-btn').style.display = 'none';
            loadSlides();
        }

        async function loadSlides() {
            const response = await fetch(sheetUrl);
            const data = await response.text();
            const rows = data.split('\n').slice(1);
            const container = document.getElementById('dynamic-slides');
            
            rows.forEach(row => {
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                if (cols.length < 2) return;
                const [type, content, imgUrl] = cols.map(c => c.replace(/"/g, '').trim());
                
                const section = document.createElement('section');
                // Auto-style bold text with our highlight color
                let formattedContent = content.replace(/\*\*(.*?)\*\*/g, '<span class="highlight">$1</span>');

                if (type === "Math") {
                    section.innerHTML = `<h2>\\[ ${content} \\]</h2>`;
                } else if (type === "Title") {
                    section.innerHTML = `<h1 style="font-size: 4em; color: #42afe3;">${formattedContent}</h1>`;
                } else {
                    section.innerHTML = `<h2>${formattedContent}</h2>`;
                }
                container.appendChild(section);
            });

            Reveal.initialize({
                hash: true,
                transition: 'none', 
                center: true,
                plugins: [ RevealMath.MathJax2 ]
            });
        }
    </script>
</body>
</html>
